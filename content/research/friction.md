+++
authors = ["Ziheng Chen"]
title = "Friction Model Improvement in CARLA Simulator"
date = "2023-05-11"
description = "Senior Thesis"
tags = [
    "python",
    "CARLA",
    "autonomous-vehicles",
    "dependable-systems",
    "linux",
    "pandas",
    "large-scale-data-processing",
    "matplotlib",
    "DEPEND-Group"
]
+++

![orig fric - clear_sunset_icy_70_ghost_cutin](/images/projects/thesis1.gif#center)
![reduced fric - clear_sunset_icy_70_ghost_cutin](/images/projects/thesis2.gif#center)

[Source (GitHub)](https://github.com/zihengjackchen/CARLA-Modified-Pipeline/tree/master)

[Result](https://github.com/zihengjackchen/CARLA-Modified-Pipeline/blob/master/(ECE499)%20Deliverables/Thesis.pdf)

#### Problem Statement
Despite continuous improvements in autonomous vehicles (AVs), there's still a major concern about their safety. Many AV systems are developed using computer simulations because it's a cost-effective way to create useful datasets. Simulations, especially those used as benchmarks, are widely employed to evaluate how well AV models perform. However, our research reveals that even advanced AV simulators like `CARLA` fall short in simulating crucial aspects that impact safety, especially in challenging weather conditions. This can result in training AV systems that are not optimally prepared.

Simulations have inherent drawbacks, such as incomplete physics and a lack of realistic weather effects in images, causing a mismatch between simulation and the real world. This discrepancy means that the simulator may not accurately represent real-world driving challenges, particularly in complex physics, low-light conditions, and emergencies. Consequently, inaccurate data generated by the simulator can significantly limit the precision and safety of trained algorithms.

This thesis seeks to enhance the `CARLA` Simulator to better mirror real-world conditions by:

Introducing friction to actor vehicles in rainy and icy scenarios.
Comparing the effectiveness of these modifications by analyzing vehicle behaviors and other metrics.
Our evaluation indicates that, in adverse scenarios, our modifications could increase the accident rate from 49% to 98% compared to the existing `CARLA` implementation. This could lead to entirely different and perilous outcomes compared to the intended scenario.

As a result, this thesis aims to contribute to the development of improved, more accurate, and open-sourced simulation tools, fostering safer research in autonomous vehicles.


#### Contributions
- Understood the physics implemented in `CARLA` and improved the friction model as a function of weather settings 
- Generated and analyzed over 8,000 vehicle traces in varying weather conditions, creating 300\% more accidents
- Acquired expertise in modifying the perception, control, and planning modules in the `CARLA` simulation platform
